#******************************************************************************
#*
#*   FILE
#*   ----
#*   generic.mk - Makefile fuer die Anwender-Bibliothek (generischer Teil)
#******************************************************************************
#*
#*   This file is generated by the 'fb_makmak' command
#*
#******************************************************************************

#	Directories
#	-----------

ROOT_DIR               = ../../../../
MODEL_DIR              = ../../model/
SOURCE_DIR             = ../../source/
INCLUDE_DIR            = ../../include/
USERLIB_DIR            = ../../../libs
BASE_DIR               = $(ROOT_DIR)base/
FBS_DIR                = $(BASE_DIR)fbs/
FBS_INCLUDE_DIR        = $(FBS_DIR)include/
ACPLT_DIR              = $(BASE_DIR)acplt/
ACPLT_KS_INCLUDE_DIR   = $(ACPLT_DIR)ks/include/
ACPLT_PLT_INCLUDE_DIR  = $(ACPLT_DIR)plt/include/
ACPLT_OV_INCLUDE_DIR   = $(ACPLT_DIR)ov/include/
OV_LIBS_DIR            = $(ACPLT_DIR)ov/lib/
FBS_LIBS_DIR           = $(FBS_DIR)lib/
BIN_DIR                = $(ROOT_DIR)bin/
comlib_MODEL_DIR           = ../../../comlib/model/
comlib_INCLUDE_DIR         = ../../../comlib/include/
#   Rules
#   -----

.SUFFIXES:
.SUFFIXES: $(_C) .h .ovm $(_LIB) $(_DLL) $(_OBJ)

#	Paths and defines
#	-----------------

ifeq ($(COMPILER), MSVC)
INCLUDES   = /I$(ACPLT_OV_INCLUDE_DIR) /I$(ACPLT_PLT_INCLUDE_DIR) /I$(ACPLT_KS_INCLUDE_DIR) \
			/I$(comlib_MODEL_DIR) /I$(comlib_INCLUDE_DIR) \
			/I$(FBS_INCLUDE_DIR) /I$(MODEL_DIR) /I$(INCLUDE_DIR)
else
INCLUDES   = -I$(ACPLT_OV_INCLUDE_DIR) -I$(ACPLT_PLT_INCLUDE_DIR) -I$(ACPLT_KS_INCLUDE_DIR) \
			-I$(comlib_MODEL_DIR) -I$(comlib_INCLUDE_DIR) \
			-I$(FBS_INCLUDE_DIR) -I$(MODEL_DIR) -I$(INCLUDE_DIR)
endif

VPATH      = $(MODEL_DIR) $(SOURCE_DIR) $(INCLUDE_DIR) $(FBS_INCLUDE_DIR) \
			 $(comlib_MODEL_DIR)  $(comlib_INCLUDE_DIR) \
			$(ACPLT_OV_INCLUDE_DIR) $(ACPLT_PLT_INCLUDE_DIR) $(ACPLT_KS_INCLUDE_DIR)

ifeq ($(COMPILER), MSVC)
DEFINES    = /DOV_SYSTEM_$(SYSTEM)=1 /DPLT_SYSTEM_$(SYSTEM)=1
else
DEFINES    = -DOV_SYSTEM_$(SYSTEM)=1 -DPLT_SYSTEM_$(SYSTEM)=1
endif

#	User library
#	------------

LIBRARY        = cmdlib
USERLIB_C      = $(LIBRARY)$(_C)
USERLIB_LIB    = $(LIBRARY)$(_LIB)
USERLIB_DLL    = $(LIBRARY)$(_DLL)

#	Targets
#	-------
USERLIB_SRC = $(USERLIB_C) $(wildcard $(SOURCE_DIR)*$(_C))
USERLIB_OBJ = $(foreach source, $(USERLIB_SRC), $(basename $(notdir $(source)))$(_OBJ))
TARGETS = \
	ov.h \
	fb.h \
	comlib.h \
	cmdlib.h \
	$(USERLIB_LIB) \
	$(USERLIB_DLL)
SOURCES = \
	ov.h \
	fb.h \
	comlib.h \
	$(USERLIB_SRC)

