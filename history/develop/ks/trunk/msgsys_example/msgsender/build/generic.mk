#******************************************************************************
#*
#*   FILE
#*   ----
#*   generic.mk - Makefile fuer die Anwender-Bibliothek (generischer Teil)
#******************************************************************************
#*
#*   This file is generated by the 'fb_makmak' command
#*
#******************************************************************************

#	Directories
#	-----------

ROOT_DIR               = ../../../../
MODEL_DIR              = ../../model/
SOURCE_DIR             = ../../source/
INCLUDE_DIR            = ../../include/
USERLIB_DIR            = ../../../libs
BASE_DIR               = $(ROOT_DIR)base/
FBS_DIR                = $(BASE_DIR)fbs/
FBS_INCLUDE_DIR        = $(FBS_DIR)include/
ACPLT_DIR              = $(BASE_DIR)acplt/
ACPLT_KS_INCLUDE_DIR   = $(ACPLT_DIR)ks/include/
ACPLT_PLT_INCLUDE_DIR  = $(ACPLT_DIR)plt/include/
ACPLT_OV_INCLUDE_DIR   = $(ACPLT_DIR)ov/include/
OV_LIBS_DIR            = $(ACPLT_DIR)ov/lib/
FBS_LIBS_DIR           = $(FBS_DIR)lib/
BIN_DIR                = $(ROOT_DIR)bin/
ksapi_MODEL_DIR           = ../../../ksapi/model/
ksapi_INCLUDE_DIR         = ../../../ksapi/include/
msgsys_MODEL_DIR           = ../../../msgsys/model/
msgsys_INCLUDE_DIR         = ../../../msgsys/include/

#   Rules
#   -----

.SUFFIXES:
.SUFFIXES: $(_C) .h .ovm $(_LIB) $(_DLL) $(_OBJ)

#	Paths and defines
#	-----------------

ifeq ($(COMPILER), MSVC)
INCLUDES   = /I$(ACPLT_OV_INCLUDE_DIR) /I$(ACPLT_PLT_INCLUDE_DIR) /I$(ACPLT_KS_INCLUDE_DIR) \
			/I$(ksapi_MODEL_DIR) /I$(ksapi_INCLUDE_DIR)  \
			/I$(msgsys_MODEL_DIR) /I$(msgsys_INCLUDE_DIR)  \
			/I$(FBS_INCLUDE_DIR) /I$(MODEL_DIR) /I$(INCLUDE_DIR)
else
INCLUDES   = -I$(ACPLT_OV_INCLUDE_DIR) -I$(ACPLT_PLT_INCLUDE_DIR) -I$(ACPLT_KS_INCLUDE_DIR) \
			-I$(ksapi_MODEL_DIR) -I$(ksapi_INCLUDE_DIR) \
			-I$(msgsys_MODEL_DIR) -I$(msgsys_INCLUDE_DIR) \
			-I$(FBS_INCLUDE_DIR) -I$(MODEL_DIR) -I$(INCLUDE_DIR)
endif

VPATH      = $(MODEL_DIR) $(SOURCE_DIR) $(INCLUDE_DIR) $(FBS_INCLUDE_DIR) \
			 $(ksapi_MODEL_DIR)  $(ksapi_INCLUDE_DIR) \
			 $(msgsys_MODEL_DIR)  $(msgsys_INCLUDE_DIR) \
			$(ACPLT_OV_INCLUDE_DIR) $(ACPLT_PLT_INCLUDE_DIR) $(ACPLT_KS_INCLUDE_DIR)

ifeq ($(COMPILER), MSVC)
DEFINES    = /DOV_SYSTEM_$(SYSTEM)=1 /DPLT_SYSTEM_$(SYSTEM)=1 /Dov_library_open_msgsender=ov_library_open_msgsender_old /DLOG_OV=1 /DENABLE_PEERGUI=1
else
DEFINES    = -DOV_SYSTEM_$(SYSTEM)=1 -DPLT_SYSTEM_$(SYSTEM)=1 -Dov_library_open_msgsender=ov_library_open_msgsender_old -DLOG_OV_INFO=1 -DLOG_OV_WARNING=1 -DLOG_OV_ERROR=1 -DLOG_OV_DEBUG=1 -DENABLE_PEERGUI=1
# DEFINES    = -DOV_SYSTEM_$(SYSTEM)=1 -DPLT_SYSTEM_$(SYSTEM)=1 -Dov_library_open_msgsender=ov_library_open_msgsender_old -DLOG_OV_INFO=1
# DEFINES    = -DOV_SYSTEM_$(SYSTEM)=1 -DPLT_SYSTEM_$(SYSTEM)=1
endif

#	User library
#	------------

LIBRARY        = msgsender
USERLIB_C      = $(LIBRARY)$(_C)
USERLIB_LIB    = $(LIBRARY)$(_LIB)
USERLIB_DLL    = $(LIBRARY)$(_DLL)

#	Targets
#	-------
USERLIB_SRC = $(USERLIB_C) $(wildcard $(SOURCE_DIR)*$(_C))
USERLIB_OBJ = $(foreach source, $(USERLIB_SRC), $(basename $(notdir $(source)))$(_OBJ))
TARGETS = \
	ov.h \
	fb.h \
	ksapi.h \
	msgsys.h \
	msgsender.h \
	$(USERLIB_LIB) \
	$(USERLIB_DLL)
SOURCES = \
	ov.h \
	fb.h \
	ksapi.h \
	msgsys.h \
	$(USERLIB_SRC)

