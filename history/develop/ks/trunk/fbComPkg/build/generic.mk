#******************************************************************************
#*
#*   FILE
#*   ----
#*   generic.mk - Makefile fuer die Anwender-Bibliothek (generischer Teil)
#******************************************************************************
#*
#*   This file is generated by the 'acplt_makmak' command
#*
#******************************************************************************

#	Directories
#	-----------

MODEL_DIR         = ../../model/
SOURCE_DIR        = ../../source/
INCLUDE_DIR       = ../../include/
USER_DIR          = ../../../
USERLIB_DIR       = $(USER_DIR)libs
ROOT_DIR          = ../../../../
BASE_DIR          = $(ROOT_DIR)
BASE_INC_DIR      = $(BASE_DIR)include/
BASE_LIB_DIR      = $(BASE_DIR)lib/
BASE_MODEL_DIR    = $(BASE_DIR)model/
BIN_DIR           = $(ROOT_DIR)bin/
FB_MODEL_DIR           = $(USER_DIR)fb/model/
FB_INCLUDE_DIR         = $(USER_DIR)fb/include/
KSSERV_MODEL_DIR           = $(USER_DIR)ksserv/model/
KSSERV_INCLUDE_DIR         = $(USER_DIR)ksserv/include/
KSAPI_MODEL_DIR           = $(USER_DIR)ksapi/model/
KSAPI_INCLUDE_DIR         = $(USER_DIR)ksapi/include/
#   Rules
#   -----

.SUFFIXES:
.SUFFIXES: $(_C) .h .ovm $(_LIB) $(_DLL) $(_OBJ)

#	Paths and defines
#	-----------------

ifeq ($(COMPILER), MSVC)
INCLUDES  = /I$(BASE_INC_DIR) /I$(BASE_MODEL_DIR) \
			/I$(FB_MODEL_DIR) /I$(FB_INCLUDE_DIR) \
			/I$(KSSERV_MODEL_DIR) /I$(KSSERV_INCLUDE_DIR) \
			/I$(KSAPI_MODEL_DIR) /I$(KSAPI_INCLUDE_DIR) \
			/I$(MODEL_DIR) /I$(INCLUDE_DIR)
else
INCLUDES  = -I$(BASE_INC_DIR) -I$(BASE_MODEL_DIR)\
			-I$(FB_MODEL_DIR) -I$(FB_INCLUDE_DIR) \
			-I$(KSSERV_MODEL_DIR) -I$(KSSERV_INCLUDE_DIR) \
			-I$(KSAPI_MODEL_DIR) -I$(KSAPI_INCLUDE_DIR) \
			-I$(MODEL_DIR) -I$(INCLUDE_DIR)
endif

VPATH     = $(MODEL_DIR) $(SOURCE_DIR) $(INCLUDE_DIR) \
			$(FB_MODEL_DIR) $(FB_INCLUDE_DIR) \
			$(KSSERV_MODEL_DIR) $(KSSERV_INCLUDE_DIR) \
			$(KSAPI_MODEL_DIR) $(KSAPI_INCLUDE_DIR) \
			$(BASE_INC_DIR) $(BASE_MODEL_DIR)

ifeq ($(COMPILER), MSVC)
DEFINES    = /DOV_SYSTEM_$(SYSTEM)=1 /DPLT_SYSTEM_$(SYSTEM)=1
else
DEFINES    = -DOV_SYSTEM_$(SYSTEM)=1 -DPLT_SYSTEM_$(SYSTEM)=1
endif

#	User library
#	------------

LIBRARY        = fbComPkg
USERLIB_C      = $(LIBRARY)$(_C)
USERLIB_LIB    = $(LIBRARY)$(_LIB)
USERLIB_DLL    = $(LIBRARY)$(_DLL)

#	Targets
#	-------
USERLIB_SRC = $(USERLIB_C) $(wildcard $(SOURCE_DIR)*$(_C))
USERLIB_OBJ = $(foreach source, $(USERLIB_SRC), $(basename $(notdir $(source)))$(_OBJ))

HEADERS = \
	ov.h \
	fb.h \
	ksserv.h \
	ksapi.h \
	fbComPkg.h 

TARGETS = \
	$(HEADERS) \
	$(USERLIB_LIB) \
	$(USERLIB_DLL)

SOURCES = \
	ov.h \
	fb.h \
	ksserv.h \
	ksapi.h \
	$(USERLIB_SRC)

