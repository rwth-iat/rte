
/******************************************************************************
*
*   FILE
*   ----
*   getEP.c
*
*   History
*   -------
*   2013-05-14   File created
*
*******************************************************************************
*
*   This file is generated by the 'acplt_builder' command
*
******************************************************************************/


#ifndef OV_COMPILE_LIBRARY_ksapi
#define OV_COMPILE_LIBRARY_ksapi
#endif


#include "ksapi.h"
#include "libov/ov_macros.h"
#include "ksapi_commonFuncs.h"
#include "ks_logfile.h"
#include "ksbase_helper.h"

void ksapi_getEP_callback(const OV_INSTPTR_ov_domain this, const OV_INSTPTR_ov_domain that);

OV_DLLFNCEXPORT OV_RESULT ksapi_getEP_constructor(
	OV_INSTPTR_ov_object 	pobj
) {
    /*
    *   local variables
    */
    OV_RESULT    result;
    OV_INSTPTR_ksapi_getEP this = Ov_StaticPtrCast(ksapi_getEP, pobj);
    /* do what the base class does first */
    result = ov_object_constructor(pobj);
    if(Ov_Fail(result))
         return result;

    /* do what */
    this->v_identifiers.veclen			= 0;
    this->v_identifiers.value			= NULL;
    this->v_accessRights.veclen			= 0;
    this->v_accessRights.value			= NULL;
    this->v_accessRightsStr.veclen		= 0;
    this->v_accessRightsStr.value		= NULL;
    this->v_comments.veclen				= 0;
    this->v_comments.value				= NULL;
    this->v_creationTimes.veclen		= 0;
    this->v_creationTimes.value			= NULL;
    this->v_objectTypes.veclen			= 0;
    this->v_objectTypes.value			= NULL;
    this->v_objectTypesStr.veclen		= 0;
    this->v_objectTypesStr.value		= NULL;
    this->v_semanticFlags.veclen		= 0;
    this->v_semanticFlags.value			= NULL;
    this->v_DOMclassIdents.veclen		= 0;
    this->v_DOMclassIdents.value		= NULL;
    this->v_HISTdefaultInts.veclen		= 0;
    this->v_HISTdefaultInts.value		= NULL;
    this->v_HISTsupportedINTs.veclen	= 0;
    this->v_HISTsupportedINTs.value		= NULL;
    this->v_HISTtypeIdents.veclen		= 0;
    this->v_HISTtypeIdents.value		= NULL;
    this->v_HISTtypes.veclen			= 0;
    this->v_HISTtypes.value				= NULL;
    this->v_HISTtypesStr.veclen			= 0;
    this->v_HISTtypesStr.value			= NULL;
    this->v_LINKassociations.veclen		= 0;
    this->v_LINKassociations.value		= NULL;
    this->v_LINKoppositeRoles.veclen	= 0;
    this->v_LINKoppositeRoles.value		= NULL;
    this->v_LINKtypes.veclen			= 0;
    this->v_LINKtypes.value				= NULL;
    this->v_LINKtypesStr.veclen			= 0;
    this->v_LINKtypesStr.value			= NULL;
    this->v_STRUCTtypeIdents.veclen		= 0;
    this->v_STRUCTtypeIdents.value		= NULL;
    this->v_VARtechUnits.veclen			= 0;
    this->v_VARtechUnits.value			= NULL;
    this->v_VARtypes.veclen				= 0;
    this->v_VARtypes.value				= NULL;
    this->v_VARtypesStr.veclen				= 0;
    this->v_VARtypesStr.value				= NULL;

    return OV_ERR_OK;
}

OV_DLLFNCEXPORT void ksapi_getEP_startup(
	OV_INSTPTR_ov_object 	pobj
) {
    /*    
    *   local variables
    */


    /* do what the base class does first */
    ksapi_KSApiCommon_startup(pobj);

    /* do what */


    return;
}

OV_DLLFNCEXPORT void ksapi_getEP_shutdown(
	OV_INSTPTR_ov_object 	pobj
) {
    /*    
    *   local variables
    */


    /* do what */

    /* set the object's state to "shut down" */
    ksapi_KSApiCommon_shutdown(pobj);

    return;
}

OV_DLLFNCEXPORT void ksapi_getEP_submit(
    OV_INSTPTR_ksapi_KSApiCommon          pobj
) {
	OV_INSTPTR_ksapi_getEP	pthis = Ov_StaticPtrCast(ksapi_getEP, pobj);
	OV_INSTPTR_ksbase_ClientBase pClient = NULL;
	OV_VTBLPTR_ksbase_ClientBase pVtblClient = NULL;
	OV_RESULT result;

	result = ksapi_KSApiCommon_prepareSubmit(pobj, &pClient, &pVtblClient);
	if(Ov_Fail(result))
		return;

		/*	do the actual submit	*/
	pVtblClient->m_requestGetEP(pClient, NULL, pthis->v_path, pthis->v_typemask, pthis->v_namemask,
				pthis->v_scopeFlags, (OV_INSTPTR_ov_domain) pthis, &ksapi_getEP_callback);
	if(!(pClient->v_state & KSBASE_CLST_ERROR))
		pthis->v_status = KSAPI_COMMON_WAITINGFORANSWER;
	else
		pthis->v_status = KSAPI_COMMON_INTERNALERROR;

	return;
}

OV_DLLFNCEXPORT void ksapi_getEP_setandsubmit(
    OV_INSTPTR_ksapi_getEP          pobj,
	OV_STRING 									serverHost,
	OV_STRING 									serverName,
	OV_STRING 									path,
	OV_OBJ_TYPE									typemask,
	OV_STRING 									namemask,
	OV_EP_FLAGS									scopeFlags
) {
	OV_RESULT result;

	result = ksapi_KSApiCommon_genSetForSubmit(Ov_StaticPtrCast(ksapi_KSApiCommon, pobj), serverHost, serverName, path);
	if(Ov_Fail(result))
		return;

	result = ov_string_setvalue(&(pobj->v_namemask), namemask);
	if(Ov_Fail(result))
	{
		pobj->v_status = KSAPI_COMMON_INTERNALERROR;
		pobj->v_result = result;
		return;
	}

	pobj->v_typemask = typemask;
	pobj->v_scopeFlags = scopeFlags;

	ksapi_getVar_submit(Ov_StaticPtrCast(ksapi_KSApiCommon, pobj));

	return;
}

void ksapi_getEP_callback(const OV_INSTPTR_ov_domain this, const OV_INSTPTR_ov_domain that)
{
	OV_INSTPTR_ksapi_getEP thisgEP = Ov_StaticPtrCast(ksapi_getEP, this);
	OV_INSTPTR_ksbase_ClientBase pClient = Ov_StaticPtrCast(ksbase_ClientBase, that);
	OV_VTBLPTR_ksbase_ClientBase pVtblClient = NULL;
	OV_RESULT result;
	OV_UINT itemsLength;
	OV_OBJ_ENGINEERED_PROPS* itemsVals = NULL;
	OV_UINT i;

	if(!this || !that)
	{
		KS_logfile_error(("callback issued with NULL pointers. aborting."));
		return;
	}

	Ov_GetVTablePtr(ksbase_ClientBase, pVtblClient, pClient);

	if(!pVtblClient)
	{
		KS_logfile_error(("%s callback: could not determine Vtable of Client %s. aborting",
				this->v_identifier, that->v_identifier));
		thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
		thisgEP->v_result = OV_ERR_BADOBJTYPE;
		return;
	}
	ov_memstack_lock();
	result = pVtblClient->m_processGetEP(pClient, NULL, (OV_RESULT*) &(thisgEP->v_result), &itemsLength, &itemsVals);
	if(Ov_Fail(result))
	{
		thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
		thisgEP->v_result = result;
		ov_memstack_unlock();
		return;
	}

	if(Ov_Fail(thisgEP->v_result))
	{
		thisgEP->v_status = KSAPI_COMMON_EXTERNALERROR;
		ov_memstack_unlock();
		return;
	}

	thisgEP->v_status = KSAPI_COMMON_REQUESTCOMPLETED;

	/*	generic EP		*/
	result = Ov_SetDynamicVectorLength(&(thisgEP->v_identifiers), itemsLength, STRING);
	if(Ov_Fail(result))
	{
		thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
		thisgEP->v_result = result;
		ov_memstack_unlock();
		return;
	}
	result = Ov_SetDynamicVectorLength(&(thisgEP->v_objectTypes), itemsLength, UINT);
	if(Ov_Fail(result))
	{
		thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
		thisgEP->v_result = result;
		ov_memstack_unlock();
		return;
	}
	result = Ov_SetDynamicVectorLength(&(thisgEP->v_objectTypesStr), itemsLength, STRING);
	if(Ov_Fail(result))
	{
		thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
		thisgEP->v_result = result;
		ov_memstack_unlock();
		return;
	}
	result = Ov_SetDynamicVectorLength(&(thisgEP->v_creationTimes), itemsLength, TIME);
	if(Ov_Fail(result))
	{
		thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
		thisgEP->v_result = result;
		ov_memstack_unlock();
		return;
	}
	result = Ov_SetDynamicVectorLength(&(thisgEP->v_comments), itemsLength, STRING);
	if(Ov_Fail(result))
	{
		thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
		thisgEP->v_result = result;
		ov_memstack_unlock();
		return;
	}
	result = Ov_SetDynamicVectorLength(&(thisgEP->v_accessRights), itemsLength, UINT);
	if(Ov_Fail(result))
	{
		thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
		thisgEP->v_result = result;
		ov_memstack_unlock();
		return;
	}
	result = Ov_SetDynamicVectorLength(&(thisgEP->v_accessRightsStr), itemsLength, STRING);
	if(Ov_Fail(result))
	{
		thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
		thisgEP->v_result = result;
		ov_memstack_unlock();
		return;
	}
	result = Ov_SetDynamicVectorLength(&(thisgEP->v_semanticFlags), itemsLength, UINT);
	if(Ov_Fail(result))
	{
		thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
		thisgEP->v_result = result;
		ov_memstack_unlock();
		return;
	}

	/*	Domain EP	*/
	result = Ov_SetDynamicVectorLength(&(thisgEP->v_DOMclassIdents), itemsLength, STRING);
	if(Ov_Fail(result))
	{
		thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
		thisgEP->v_result = result;
		ov_memstack_unlock();
		return;
	}

	/*	Struct EP	*/
	result = Ov_SetDynamicVectorLength(&(thisgEP->v_STRUCTtypeIdents), itemsLength, STRING);
	if(Ov_Fail(result))
	{
		thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
		thisgEP->v_result = result;
		ov_memstack_unlock();
		return;
	}

	/*	Var EP	*/
	result = Ov_SetDynamicVectorLength(&(thisgEP->v_VARtechUnits), itemsLength, STRING);
	if(Ov_Fail(result))
	{
		thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
		thisgEP->v_result = result;
		ov_memstack_unlock();
		return;
	}
	result = Ov_SetDynamicVectorLength(&(thisgEP->v_VARtypes), itemsLength, UINT);
	if(Ov_Fail(result))
	{
		thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
		thisgEP->v_result = result;
		ov_memstack_unlock();
		return;
	}
	result = Ov_SetDynamicVectorLength(&(thisgEP->v_VARtypesStr), itemsLength, STRING);
	if(Ov_Fail(result))
	{
		thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
		thisgEP->v_result = result;
		ov_memstack_unlock();
		return;
	}

	/*	Link EP	*/
	result = Ov_SetDynamicVectorLength(&(thisgEP->v_LINKassociations), itemsLength, STRING);
	if(Ov_Fail(result))
	{
		thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
		thisgEP->v_result = result;
		ov_memstack_unlock();
		return;
	}
	result = Ov_SetDynamicVectorLength(&(thisgEP->v_LINKoppositeRoles), itemsLength, STRING);
	if(Ov_Fail(result))
	{
		thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
		thisgEP->v_result = result;
		ov_memstack_unlock();
		return;
	}
	result = Ov_SetDynamicVectorLength(&(thisgEP->v_LINKtypes), itemsLength, UINT);
	if(Ov_Fail(result))
	{
		thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
		thisgEP->v_result = result;
		ov_memstack_unlock();
		return;
	}
	result = Ov_SetDynamicVectorLength(&(thisgEP->v_LINKtypesStr), itemsLength, STRING);
	if(Ov_Fail(result))
	{
		thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
		thisgEP->v_result = result;
		ov_memstack_unlock();
		return;
	}

	/*	Hist EP	*/
	result = Ov_SetDynamicVectorLength(&(thisgEP->v_HISTdefaultInts), itemsLength, UINT);
	if(Ov_Fail(result))
	{
		thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
		thisgEP->v_result = result;
		ov_memstack_unlock();
		return;
	}
	result = Ov_SetDynamicVectorLength(&(thisgEP->v_HISTsupportedINTs), itemsLength, UINT);
	if(Ov_Fail(result))
	{
		thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
		thisgEP->v_result = result;
		ov_memstack_unlock();
		return;
	}
	result = Ov_SetDynamicVectorLength(&(thisgEP->v_HISTtypeIdents), itemsLength, STRING);
	if(Ov_Fail(result))
	{
		thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
		thisgEP->v_result = result;
		ov_memstack_unlock();
		return;
	}
	result = Ov_SetDynamicVectorLength(&(thisgEP->v_HISTtypes), itemsLength, UINT);
	if(Ov_Fail(result))
	{
		thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
		thisgEP->v_result = result;
		ov_memstack_unlock();
		return;
	}
	result = Ov_SetDynamicVectorLength(&(thisgEP->v_HISTtypesStr), itemsLength, STRING);
	if(Ov_Fail(result))
	{
		thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
		thisgEP->v_result = result;
		ov_memstack_unlock();
		return;
	}

	for(i=0; i<itemsLength; i++)
	{
		/*	generic EP		*/
		result = ov_string_setvalue(&(thisgEP->v_identifiers.value[i]), itemsVals[i].identifier);
		if(Ov_Fail(result))
		{
			thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
			thisgEP->v_result = result;
			ov_memstack_unlock();
			return;
		}

		thisgEP->v_creationTimes.value[i] = itemsVals[i].creation_time;

		result = ov_string_setvalue(&(thisgEP->v_comments.value[i]), itemsVals[i].comment);
		if(Ov_Fail(result))
		{
			thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
			thisgEP->v_result = result;
			ov_memstack_unlock();
			return;
		}
		/*	access rights	*/
		thisgEP->v_accessRights.value[i] = itemsVals[i].access;
		result = ov_string_setvalue(&(thisgEP->v_accessRightsStr.value[i]), NULL);
		if(Ov_Fail(result))
		{
			thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
			thisgEP->v_result = result;
			ov_memstack_unlock();
			return;
		}
		if(itemsVals[i].access == OV_AC_NONE)
		{
			result = ov_string_setvalue(&(thisgEP->v_accessRightsStr.value[i]), "NONE");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}
		}
		else
		{
			if(itemsVals[i].access & OV_AC_READ)
			{
				result = ov_string_append(&(thisgEP->v_accessRightsStr.value[i]), "read ");
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
			}
			if(itemsVals[i].access & OV_AC_WRITE)
			{
				result = ov_string_append(&(thisgEP->v_accessRightsStr.value[i]), "write ");
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
			}
			if(itemsVals[i].access & OV_AC_INSTANTIABLE)
			{
				result = ov_string_append(&(thisgEP->v_accessRightsStr.value[i]), "instantiate ");
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
			}
			if(itemsVals[i].access & OV_AC_DELETEABLE)
			{
				result = ov_string_append(&(thisgEP->v_accessRightsStr.value[i]), "delete ");
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
			}
			if(itemsVals[i].access & OV_AC_LINKABLE)
			{
				result = ov_string_append(&(thisgEP->v_accessRightsStr.value[i]), "link ");
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
			}
			if(itemsVals[i].access & OV_AC_UNLINKABLE)
			{
				result = ov_string_append(&(thisgEP->v_accessRightsStr.value[i]), "unlink ");
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
			}
		}
		thisgEP->v_semanticFlags.value[i] = itemsVals[i].semantic_flags;

		thisgEP->v_objectTypes.value[i] = itemsVals[i].objtype;

		/*	set object type and type specific values	*/
		switch(itemsVals[i].objtype)
		{
		case KS_OT_DOMAIN:
			/*	type	*/
			result = ov_string_print(&(thisgEP->v_objectTypesStr.value[i]), "Domain (%#08X)", itemsVals[i].objtype);
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}
			/*	Domain	*/
			result = ov_string_setvalue(&(thisgEP->v_DOMclassIdents.value[i]),
					itemsVals[i].OV_OBJ_ENGINEERED_PROPS_u.domain_engineered_props.class_identifier);
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}

			/*	Variable - empty	*/
			result = ov_string_setvalue(&(thisgEP->v_VARtechUnits.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}

			thisgEP->v_VARtypes.value[i] = 0;
			result = ov_string_setvalue(&(thisgEP->v_VARtypesStr.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}

			/*	Link - empty	*/
			result = ov_string_setvalue(&(thisgEP->v_LINKassociations.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}
			result = ov_string_setvalue(&(thisgEP->v_LINKoppositeRoles.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}
			thisgEP->v_LINKtypes.value[i] = 0;
			result = ov_string_setvalue(&(thisgEP->v_LINKtypesStr.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}

			/*	Struct - empty	*/
			result = ov_string_setvalue(&(thisgEP->v_STRUCTtypeIdents.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}

			/*	History - empty	*/
			result = ov_string_setvalue(&(thisgEP->v_HISTtypeIdents.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}
			thisgEP->v_HISTdefaultInts.value[i] = 0;
			thisgEP->v_HISTsupportedINTs.value[i] = 0;
			thisgEP->v_HISTtypes.value[i] = 0;
			result = ov_string_setvalue(&(thisgEP->v_HISTtypesStr.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}
			break;
		case KS_OT_VARIABLE:
			/*	type	*/
			result = ov_string_print(&(thisgEP->v_objectTypesStr.value[i]), "Variable (%#08X)", itemsVals[i].objtype);
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}

			/*	Domain - empty	*/
			result = ov_string_setvalue(&(thisgEP->v_DOMclassIdents.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}

			/*	Variable	*/
			result = ov_string_setvalue(&(thisgEP->v_VARtechUnits.value[i]),
					itemsVals[i].OV_OBJ_ENGINEERED_PROPS_u.var_engineered_props.tech_unit);
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}
			thisgEP->v_VARtypes.value[i] = itemsVals[i].OV_OBJ_ENGINEERED_PROPS_u.var_engineered_props.vartype;
			switch(itemsVals[i].OV_OBJ_ENGINEERED_PROPS_u.var_engineered_props.vartype & (OV_VT_KSMASK & ~OV_VT_ISVECTOR))
			{
			case OV_VT_BOOL:
				result = ov_string_setvalue(&(thisgEP->v_VARtypesStr.value[i]), "BOOL");
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
				break;
			case OV_VT_BYTE:
				result = ov_string_setvalue(&(thisgEP->v_VARtypesStr.value[i]), "BYTE");
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
				break;
			case OV_VT_CTYPE:
				result = ov_string_setvalue(&(thisgEP->v_VARtypesStr.value[i]), "CTYPE");
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
				break;
			case OV_VT_DOUBLE:
				result = ov_string_setvalue(&(thisgEP->v_VARtypesStr.value[i]), "DOUBLE");
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
				break;
			case OV_VT_INT:
				result = ov_string_setvalue(&(thisgEP->v_VARtypesStr.value[i]), "INT");
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
				break;
			case OV_VT_POINTER:
				result = ov_string_setvalue(&(thisgEP->v_VARtypesStr.value[i]), "POINTER");
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
				break;
			case OV_VT_SINGLE:
				result = ov_string_setvalue(&(thisgEP->v_VARtypesStr.value[i]), "SINGLE");
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
				break;
			case OV_VT_STATE:
				result = ov_string_setvalue(&(thisgEP->v_VARtypesStr.value[i]), "STATE");
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
				break;
			case OV_VT_STRING:
				result = ov_string_setvalue(&(thisgEP->v_VARtypesStr.value[i]), "STRING");
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
				break;
			case OV_VT_STRUCT:
				result = ov_string_setvalue(&(thisgEP->v_VARtypesStr.value[i]), "STRUCT");
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
				break;
			case OV_VT_TIME:
				result = ov_string_setvalue(&(thisgEP->v_VARtypesStr.value[i]), "TIME");
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
				break;
			case OV_VT_TIME_SPAN:
				result = ov_string_setvalue(&(thisgEP->v_VARtypesStr.value[i]), "TIME_SPAN");
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
				break;
			case OV_VT_UINT:
				result = ov_string_setvalue(&(thisgEP->v_VARtypesStr.value[i]), "UINT");
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
				break;
			case OV_VT_VOID:
				result = ov_string_setvalue(&(thisgEP->v_VARtypesStr.value[i]), "VOID");
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
				break;
			default:
				result = ov_string_print(&(thisgEP->v_VARtypesStr.value[i]), "not recognized (%#08X)",
						itemsVals[i].OV_OBJ_ENGINEERED_PROPS_u.var_engineered_props.vartype);
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
				break;
			}
			if(itemsVals[i].OV_OBJ_ENGINEERED_PROPS_u.var_engineered_props.vartype & OV_VT_ISVECTOR)
			{
				result = ov_string_print(&(thisgEP->v_VARtypesStr.value[i]), "%s%s",
						thisgEP->v_VARtypesStr.value[i], "_VEC");
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
			}
			/*	Link - empty	*/
			result = ov_string_setvalue(&(thisgEP->v_LINKassociations.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}
			result = ov_string_setvalue(&(thisgEP->v_LINKoppositeRoles.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}
			thisgEP->v_LINKtypes.value[i] = 0;
			result = ov_string_setvalue(&(thisgEP->v_LINKtypesStr.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}

			/*	Struct - empty	*/
			result = ov_string_setvalue(&(thisgEP->v_STRUCTtypeIdents.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}

			/*	History - empty	*/
			result = ov_string_setvalue(&(thisgEP->v_HISTtypeIdents.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}
			thisgEP->v_HISTdefaultInts.value[i] = 0;
			thisgEP->v_HISTsupportedINTs.value[i] = 0;
			thisgEP->v_HISTtypes.value[i] = 0;
			result = ov_string_setvalue(&(thisgEP->v_HISTtypesStr.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}
			break;
		case KS_OT_LINK:
			/*	type	*/
			result = ov_string_print(&(thisgEP->v_objectTypesStr.value[i]), "Link (%#08X)", itemsVals[i].objtype);
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}
			/*	Domain - empty	*/
			result = ov_string_setvalue(&(thisgEP->v_DOMclassIdents.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}

			/*	Variable - empty	*/
			result = ov_string_setvalue(&(thisgEP->v_VARtechUnits.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}
			thisgEP->v_VARtypes.value[i] = 0;
			result = ov_string_setvalue(&(thisgEP->v_VARtypesStr.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}

			/*	Link	*/
			result = ov_string_setvalue(&(thisgEP->v_LINKassociations.value[i]),
					itemsVals[i].OV_OBJ_ENGINEERED_PROPS_u.link_engineered_props.association_identifier);
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}
			result = ov_string_setvalue(&(thisgEP->v_LINKoppositeRoles.value[i]),
					itemsVals[i].OV_OBJ_ENGINEERED_PROPS_u.link_engineered_props.opposite_role_identifier);
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}
			thisgEP->v_LINKtypes.value[i] = itemsVals[i].OV_OBJ_ENGINEERED_PROPS_u.link_engineered_props.linktype;
			switch(itemsVals[i].OV_OBJ_ENGINEERED_PROPS_u.link_engineered_props.linktype)
			{
			case KS_LT_GLOBAL_1_1:
				result = ov_string_print(&(thisgEP->v_LINKtypesStr.value[i]), "Gobal 1:1 (%#08X)",
						itemsVals[i].OV_OBJ_ENGINEERED_PROPS_u.link_engineered_props.linktype);
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
				break;
			case KS_LT_GLOBAL_1_MANY:
				result = ov_string_print(&(thisgEP->v_LINKtypesStr.value[i]), "Gobal 1:n (%#08X)",
						itemsVals[i].OV_OBJ_ENGINEERED_PROPS_u.link_engineered_props.linktype);
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
				break;
			case KS_LT_GLOBAL_MANY_1:
				result = ov_string_print(&(thisgEP->v_LINKtypesStr.value[i]), "Gobal n:1 (%#08X)",
						itemsVals[i].OV_OBJ_ENGINEERED_PROPS_u.link_engineered_props.linktype);
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
				break;
			case KS_LT_GLOBAL_MANY_MANY:
				result = ov_string_print(&(thisgEP->v_LINKtypesStr.value[i]), "Gobal n:n (%#08X)",
						itemsVals[i].OV_OBJ_ENGINEERED_PROPS_u.link_engineered_props.linktype);
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
				break;
			case KS_LT_LOCAL_1_1:
				result = ov_string_print(&(thisgEP->v_LINKtypesStr.value[i]), "Local 1:1 (%#08X)",
						itemsVals[i].OV_OBJ_ENGINEERED_PROPS_u.link_engineered_props.linktype);
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
				break;
			case KS_LT_LOCAL_1_MANY:
				result = ov_string_print(&(thisgEP->v_LINKtypesStr.value[i]), "Local 1:n (%#08X)",
						itemsVals[i].OV_OBJ_ENGINEERED_PROPS_u.link_engineered_props.linktype);
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
				break;
			case KS_LT_LOCAL_MANY_1:
				result = ov_string_print(&(thisgEP->v_LINKtypesStr.value[i]), "Local n:1 (%#08X)",
						itemsVals[i].OV_OBJ_ENGINEERED_PROPS_u.link_engineered_props.linktype);
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
				break;
			case KS_LT_LOCAL_MANY_MANY:
				result = ov_string_print(&(thisgEP->v_LINKtypesStr.value[i]), "Local n:n (%#08X)",
						itemsVals[i].OV_OBJ_ENGINEERED_PROPS_u.link_engineered_props.linktype);
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
				break;
			default:
				result = ov_string_print(&(thisgEP->v_LINKtypesStr.value[i]), "Not recognized (%#08X)",
						itemsVals[i].OV_OBJ_ENGINEERED_PROPS_u.link_engineered_props.linktype);
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
				break;

			}

			/*	Struct - empty	*/
			result = ov_string_setvalue(&(thisgEP->v_STRUCTtypeIdents.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}

			/*	History - empty	*/
			result = ov_string_setvalue(&(thisgEP->v_HISTtypeIdents.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}
			thisgEP->v_HISTdefaultInts.value[i] = 0;
			thisgEP->v_HISTsupportedINTs.value[i] = 0;
			thisgEP->v_HISTtypes.value[i] = 0;
			result = ov_string_setvalue(&(thisgEP->v_HISTtypesStr.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}
			break;

			break;
		case KS_OT_STRUCTURE:
			result = ov_string_print(&(thisgEP->v_objectTypesStr.value[i]), "Structure (%#08X)", itemsVals[i].objtype);
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}
			/*	Domain - empty	*/
			result = ov_string_setvalue(&(thisgEP->v_DOMclassIdents.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}

			/*	Variable - empty	*/
			result = ov_string_setvalue(&(thisgEP->v_VARtechUnits.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}

			thisgEP->v_VARtypes.value[i] = 0;
			result = ov_string_setvalue(&(thisgEP->v_VARtypesStr.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}

			/*	Link - empty	*/
			result = ov_string_setvalue(&(thisgEP->v_LINKassociations.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}
			result = ov_string_setvalue(&(thisgEP->v_LINKoppositeRoles.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}
			thisgEP->v_LINKtypes.value[i] = 0;
			result = ov_string_setvalue(&(thisgEP->v_LINKtypesStr.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}

			/*	Struct	*/
			result = ov_string_setvalue(&(thisgEP->v_STRUCTtypeIdents.value[i]),
				itemsVals[i].OV_OBJ_ENGINEERED_PROPS_u.struct_engineered_props.type_identifier);
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}

			/*	History - empty	*/
			result = ov_string_setvalue(&(thisgEP->v_HISTtypeIdents.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}
			thisgEP->v_HISTdefaultInts.value[i] = 0;
			thisgEP->v_HISTsupportedINTs.value[i] = 0;
			thisgEP->v_HISTtypes.value[i] = 0;
			result = ov_string_setvalue(&(thisgEP->v_HISTtypesStr.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}
			break;

		case KS_OT_HISTORY:
			result = ov_string_print(&(thisgEP->v_objectTypesStr.value[i]), "History (%#08X)", itemsVals[i].objtype);
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}
			/*	Domain - empty	*/
			result = ov_string_setvalue(&(thisgEP->v_DOMclassIdents.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}

			/*	Variable - empty	*/
			result = ov_string_setvalue(&(thisgEP->v_VARtechUnits.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}

			thisgEP->v_VARtypes.value[i] = 0;
			result = ov_string_setvalue(&(thisgEP->v_VARtypesStr.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}

			/*	Link - empty	*/
			result = ov_string_setvalue(&(thisgEP->v_LINKassociations.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}
			result = ov_string_setvalue(&(thisgEP->v_LINKoppositeRoles.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}
			thisgEP->v_LINKtypes.value[i] = 0;
			result = ov_string_setvalue(&(thisgEP->v_LINKtypesStr.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}

			/*	Struct - empty	*/
			result = ov_string_setvalue(&(thisgEP->v_STRUCTtypeIdents.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}

			/*	History	*/
			result = ov_string_setvalue(&(thisgEP->v_HISTtypeIdents.value[i]),
					itemsVals[i].OV_OBJ_ENGINEERED_PROPS_u.history_engineered_props.type_identifier);
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}
			thisgEP->v_HISTdefaultInts.value[i] =
					itemsVals[i].OV_OBJ_ENGINEERED_PROPS_u.history_engineered_props.default_interpolation;
			thisgEP->v_HISTsupportedINTs.value[i] =
					itemsVals[i].OV_OBJ_ENGINEERED_PROPS_u.history_engineered_props.supported_interpolation;
			thisgEP->v_HISTtypes.value[i] =
					itemsVals[i].OV_OBJ_ENGINEERED_PROPS_u.history_engineered_props.historytype;
			switch(itemsVals[i].OV_OBJ_ENGINEERED_PROPS_u.history_engineered_props.historytype & KS_HT_TYPE_MASK)
			{
			case KS_HT_LOG:
				result = ov_string_setvalue(&(thisgEP->v_HISTtypesStr.value[i]), "LOG");
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
				break;
			case KS_HT_TABLE:
				result = ov_string_setvalue(&(thisgEP->v_HISTtypesStr.value[i]), "TABLE");
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
				break;
			case KS_HT_BOOL:
				result = ov_string_setvalue(&(thisgEP->v_HISTtypesStr.value[i]), "BOOL");
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
				break;
			case KS_HT_INT:
				result = ov_string_setvalue(&(thisgEP->v_HISTtypesStr.value[i]), "INT");
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
				break;
			case KS_HT_UINT:
				result = ov_string_setvalue(&(thisgEP->v_HISTtypesStr.value[i]), "UINT");
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
				break;
			case KS_HT_SINGLE:
				result = ov_string_setvalue(&(thisgEP->v_HISTtypesStr.value[i]), "SINGLE");
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
				break;
			case KS_HT_DOUBLE:
				result = ov_string_setvalue(&(thisgEP->v_HISTtypesStr.value[i]), "DOUBLE");
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
				break;
			case KS_HT_STRING:
				result = ov_string_setvalue(&(thisgEP->v_HISTtypesStr.value[i]), "STRING");
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
				break;
			case KS_HT_TIME:
				result = ov_string_setvalue(&(thisgEP->v_HISTtypesStr.value[i]), "TIME");
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
				break;
			case KS_HT_TIME_SPAN:
				result = ov_string_setvalue(&(thisgEP->v_HISTtypesStr.value[i]), "TIME_SPAN");
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
				break;
			default:
				result = ov_string_print(&(thisgEP->v_HISTtypesStr.value[i]), "not recognized (%#08X)",
						itemsVals[i].OV_OBJ_ENGINEERED_PROPS_u.history_engineered_props.historytype & KS_HT_TYPE_MASK);
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
				break;
			}
			if(itemsVals[i].OV_OBJ_ENGINEERED_PROPS_u.history_engineered_props.historytype & KS_HT_CHANGE_DRIVEN)
			{
				result = ov_string_print(&(thisgEP->v_HISTtypesStr.value[i]), "%s %s",
						thisgEP->v_HISTtypesStr.value[i], "CHANGE_DRIVEN");
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
			}
			if(itemsVals[i].OV_OBJ_ENGINEERED_PROPS_u.history_engineered_props.historytype & KS_HT_TIME_DRIVEN)
			{
				result = ov_string_print(&(thisgEP->v_HISTtypesStr.value[i]), "%s %s",
						thisgEP->v_HISTtypesStr.value[i], "TIME_DRIVEN");
				if(Ov_Fail(result))
				{
					thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
					thisgEP->v_result = result;
					ov_memstack_unlock();
					return;
				}
			}

			break;
		default:
			result = ov_string_print(&(thisgEP->v_objectTypesStr.value[i]), "Not recognized (%#08X)", itemsVals[i].objtype);
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}
			/*	Domain - empty	*/
			result = ov_string_setvalue(&(thisgEP->v_DOMclassIdents.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}

			/*	Variable - empty	*/
			result = ov_string_setvalue(&(thisgEP->v_VARtechUnits.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}

			thisgEP->v_VARtypes.value[i] = 0;
			result = ov_string_setvalue(&(thisgEP->v_VARtypesStr.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}

			/*	Link - empty	*/
			result = ov_string_setvalue(&(thisgEP->v_LINKassociations.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}
			result = ov_string_setvalue(&(thisgEP->v_LINKoppositeRoles.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}
			thisgEP->v_LINKtypes.value[i] = 0;
			result = ov_string_setvalue(&(thisgEP->v_LINKtypesStr.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}

			/*	Struct - empty	*/
			result = ov_string_setvalue(&(thisgEP->v_STRUCTtypeIdents.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}

			/*	History - empty	*/
			result = ov_string_setvalue(&(thisgEP->v_HISTtypeIdents.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}
			thisgEP->v_HISTdefaultInts.value[i] = 0;
			thisgEP->v_HISTsupportedINTs.value[i] = 0;
			thisgEP->v_HISTtypes.value[i] = 0;
			result = ov_string_setvalue(&(thisgEP->v_HISTtypesStr.value[i]), "-");
			if(Ov_Fail(result))
			{
				thisgEP->v_status = KSAPI_COMMON_INTERNALERROR;
				thisgEP->v_result = result;
				ov_memstack_unlock();
				return;
			}
			break;
		}

	}

	ov_memstack_unlock();
	return;
}


